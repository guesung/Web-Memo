# 텍스트 선택 메모 버튼 디버깅 가이드

## 1. Chrome DevTools 콘솔 확인

### 방법:
1. 웹페이지에서 F12 또는 우클릭 → "검사" 클릭
2. Console 탭 선택
3. 텍스트를 드래그하여 버튼이 나타나는지 확인
4. 버튼 클릭 시 콘솔 메시지 확인

### 예상 로그 순서:
```
handleClick
createMemo <선택된 텍스트> { url: "...", title: "...", ... }
```

### 에러가 있다면:
- 빨간색 에러 메시지 전체를 복사해주세요
- 특히 다음 에러들을 주의깊게 확인:
  - "No QueryClient set" → QueryProvider 문제
  - "Supabase client error" → 인증 문제
  - "getTabInfo is not defined" → import 문제

## 2. 확장 프로그램 콘솔 확인

### Content Script 콘솔:
1. Chrome 주소창에 `chrome://extensions/` 입력
2. "Web Memo" 확장 프로그램 찾기
3. "서비스 워커" 또는 "검사 뷰" 클릭
4. Console 탭에서 에러 확인

## 3. 네트워크 요청 확인

### 방법:
1. DevTools의 Network 탭 선택
2. 텍스트 선택 후 버튼 클릭
3. Supabase API 요청이 발생하는지 확인
4. 요청이 실패했다면:
   - Status 코드 확인 (401 = 인증 실패, 500 = 서버 에러)
   - Response 탭에서 에러 메시지 확인

## 4. 로그인 상태 확인

### 확인 방법:
1. 확장 프로그램 아이콘 클릭 (또는 사이드 패널 열기)
2. 로그인되어 있는지 확인
3. 로그아웃 상태라면 로그인 필요

## 5. 버튼이 아예 보이지 않는 경우

### 확인 사항:
1. 콘솔에 "setupTextSelectionHandler" 로그가 있는지 확인
2. "mouseup" 로그가 있는지 확인
3. 선택한 텍스트 길이가 3자 이상인지 확인
4. input/textarea에서 선택하지 않았는지 확인

## 6. 버튼은 보이지만 클릭이 안되는 경우

### 확인 사항:
1. 버튼에 마우스를 올렸을 때 hover 효과가 있는지 확인
2. Elements 탭에서 버튼의 z-index 확인
3. 다른 요소가 버튼을 가리고 있는지 확인
4. Shadow DOM이 제대로 렌더링되었는지 확인

## 7. 빌드 및 재로드

### 변경 후 반드시 실행:
```bash
# 빌드
pnpm build:extension

# Chrome에서 확장 프로그램 페이지에서 새로고침 버튼 클릭
```

## 다음 정보를 제공해주세요:

1. **콘솔 에러**: 빨간색으로 표시된 전체 에러 메시지
2. **로그인 상태**: 로그인되어 있나요?
3. **버튼 상태**:
   - 버튼이 보이나요?
   - 호버 효과가 있나요?
   - 클릭 시 로딩 아이콘이 보이나요?
4. **네트워크**: API 요청이 발생하나요?
